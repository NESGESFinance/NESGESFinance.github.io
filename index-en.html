<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Dentro de index-en.html -->
    <a href="index.html">üåê Espa√±ol</a>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NESGESFinance ‚Äî Tokenization Platform for Projects and RWA‚Äôs</title>
  <meta name="description" content="NESGESFinance: Human‚Äëcentric ecosystem for tokenization of Real‚ÄëWorld Assets (RWA), DeFi and DAO on Polygon. Projects, technology, charts, extended legal, FAQ and contact." />
  <meta name="theme-color" content="#0a0a0a" />
  <meta property="og:title" content="NESGESFinance ‚Äî Tokenization with Purpose" />
  <meta property="og:description" content="Blockchain Technology, Financial Inclusion and Human Sustainability as the axis of a new solidarity‚Äëdriven economic paradigm." />
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="en_US" />
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Organization",
    "name":"NESGESFinance",
    "url":"https://nesaraandgesarafinance.org",
    "logo":"",
    "sameAs":["https://x.com/nesngesfinance"],
    "description":"Human‚Äëcentric ecosystem for tokenization of RWA‚Äôs with social impact and DAO governance.",
    "foundingDate":"2025",
    "memberOf":{"@type":"Organization","name":"Polygon Ecosystem"}
  }
  </script>
  <style>
    :root{
      --bg:#0b0e11; --panel:#12161a; --muted:#8aa0b3; --text:#e7eef6; --brand:#4ade80; --accent:#8b5cf6; --warn:#f59e0b; --danger:#ef4444; --line:#1f2937;
    }
    *{box-sizing:border-box}
    html,body{margin:0;background:linear-gradient(180deg,var(--bg),#0b0f13 30%, #0a0d11 100%);color:var(--text);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif;}
    a{color:var(--brand);text-decoration:none}
    a:hover{text-decoration:underline}
    .container{max-width:1200px;margin:0 auto;padding:24px}
    header{position:sticky;top:0;backdrop-filter:saturate(140%) blur(10px);background:rgba(11,14,17,.6);border-bottom:1px solid var(--line);z-index:30}
    nav{display:flex;align-items:center;justify-content:space-between;gap:16px}
    .brand{display:flex;align-items:center;gap:12px;font-weight:800}
    .brand-badge{width:40px;height:40px;border-radius:10px;background:conic-gradient(from 180deg at 50% 50%, var(--brand), var(--accent));display:grid;place-items:center;box-shadow:0 8px 30px rgba(74,222,128,.18)}
    .brand-badge span{font-weight:900;color:#0b0e11}
    .nav-links{display:flex;gap:12px;align-items:center;flex-wrap:wrap}
    .btn{display:inline-flex;align-items:center;gap:10px;padding:8px 14px;border:1px solid var(--line);border-radius:10px;background:linear-gradient(180deg,#12161a,#0f1317);color:var(--text);cursor:pointer;font-size:14px}
    .btn:hover{border-color:#2b3440}
    .btn.primary{border-color:transparent;background:linear-gradient(180deg,var(--brand),#2dd4bf);color:#07130e;font-weight:700}

    /* Layout */
    .hero{padding:64px 0 36px;border-bottom:1px solid var(--line)}
    .hero-grid{display:grid;grid-template-columns:1.2fr .8fr;gap:28px}
    .kicker{font-size:12px;letter-spacing:.2em;text-transform:uppercase;color:var(--muted)}
    h1{font-size:40px;line-height:1.06;margin:10px 0 14px}
    .subtitle{color:#c7d2de;max-width:65ch}
    .statgrid{margin-top:20px;display:grid;grid-template-columns:repeat(4,1fr);gap:12px}
    .stat{padding:12px;border:1px solid var(--line);border-radius:12px;background:linear-gradient(180deg,#11161a,#0e1216)}
    .card{padding:18px;border:1px solid var(--line);border-radius:12px;background:linear-gradient(180deg,#10151a,#0f1317)}

    section{padding:48px 0;border-bottom:1px solid var(--line)}
    h2{font-size:26px;margin:0 0 12px}
    p{line-height:1.6;color:#cfe2f7}
    .grid{display:grid;gap:14px}
    .grid.cols-2{grid-template-columns:repeat(2,1fr)}
    .grid.cols-3{grid-template-columns:repeat(3,1fr)}
    .meta{color:var(--muted);font-size:13px}

    table{width:100%;border-collapse:separate;border-spacing:0 8px}
    thead th{font-size:12px;text-transform:uppercase;color:var(--muted);text-align:left;padding:6px}
    tbody tr{background:#0d1115;border:1px solid var(--line)}
    tbody td{padding:10px}
    .pill{padding:4px 8px;border-radius:999px;border:1px solid var(--line);font-size:12px}

    .chart-card{padding:12px;border:1px solid var(--line);border-radius:12px;background:linear-gradient(180deg,#10151a,#0f1317)}
    canvas{width:100%;height:240px;display:block}

    .accordion{border:1px solid var(--line);border-radius:12px;overflow:hidden}
    .acc-item{border-top:1px solid var(--line)}
    .acc-btn{width:100%;text-align:left;padding:12px 14px;background:#0d1115;color:var(--text);font-weight:700;border:0;cursor:pointer}
    .acc-panel{max-height:0;overflow:hidden;transition:max-height .28s ease;background:#0c1014;padding:0 14px}
    .acc-panel.open{padding:14px}

    footer{padding:28px 0;color:var(--muted)}
    .badges{display:flex;gap:10px;flex-wrap:wrap}
    .badge{padding:6px 10px;border-radius:999px;border:1px solid var(--line);background:#0c1014;color:#cfe2f7;font-size:12px}

    /* Contact */
    form label{display:block;font-size:13px;color:#cfe2f7;margin-bottom:6px}
    form input, form textarea, form select{width:100%;padding:10px;border-radius:8px;border:1px solid var(--line);background:#0b0f13;color:var(--text)}
    form .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    form .actions{display:flex;gap:10px;margin-top:12px}

    @media (max-width: 980px){
      .hero-grid{grid-template-columns:1fr}
      .grid.cols-2,.grid.cols-3{grid-template-columns:1fr}
      .statgrid{grid-template-columns:repeat(2,1fr)}
      form .row{grid-template-columns:1fr}
    }
  </style>
</head>
<body>
  <header>
    <div class="container">
      <nav>
        <div class="brand">
          <div class="brand-badge"><span>NG</span></div>
          <div>
            NESGESFinance
            <div style="font-size:12px;color:var(--muted)">Tokenization of Projects and RWA‚Äôs</div>
          </div>
        </div>
        <div class="nav-links">
          <a href="#vision">Ecosystem</a>
          <a href="#proyectos">Projects</a>
          <a href="#tecnologia">Technology</a>
          <a href="#tokenomics">Tokenomics</a>
          <a href="#dao">DAO</a>
          <a href="#legal">Legal</a>
          <a href="#roadmap">Roadmap</a>
          <a href="#faq">FAQ</a>
          <a href="#contacto">Contact</a>
          <button class="btn primary" id="btnConnect">Connect Wallet</button>
        </div>
      </nav>
    </div>
  </header>

  <main>
    <section class="hero" aria-label="Introduction">
      <div class="container hero-grid">
        <div>
          <div class="kicker">Blockchain ‚Ä¢ Financial Inclusion ‚Ä¢ Human Sustainability</div>
          <h1>Tokenization with purpose: <span style="background:linear-gradient(90deg,var(--brand),var(--accent));-webkit-background-clip:text;background-clip:text;color:transparent">RWA‚Äôs</span> to transform communities</h1>
          <p class="subtitle">NESGESFinance is a human‚Äëcentric ecosystem that integrates <strong>blockchain</strong>, <strong>DeFi</strong>, <strong>RWA‚Äôs</strong> and <strong>DAO</strong> to channel capital into social, environmental and technological projects with on‚Äëchain traceability.</p>
          <div class="statgrid">
            <div class="stat"><div class="meta">Network</div><b>Polygon PoS</b></div>
            <div class="stat"><div class="meta">Token</div><b>$NESGES</b></div>
            <div class="stat"><div class="meta">Contract</div><b><code id="contractES">0x17f...45c4</code></b></div>
            <div class="stat"><div class="meta">Wallet</div><b id="walletPreview">Not connected</b></div>
          </div>
          <div style="margin-top:14px;display:flex;gap:10px;flex-wrap:wrap">
            <a class="btn" href="https://nesaraandgesarafinance.org" target="_blank" rel="noopener">Official Site</a>
            <a class="btn" href="https://www.geckoterminal.com/polygon_pos/pools/0xe0e0050a18514a29d407acfdc69f742658e97b2d" target="_blank" rel="noopener">NESGES Pool</a>
          </div>
        </div>
        <div class="card">
          <h3 style="margin-top:0">Activity panel (demo)</h3>
          <div class="grid cols-2">
            <div>
              <div class="meta">Active projects</div>
              <div><b id="kpiProjects">3</b></div>
            </div>
            <div>
              <div class="meta">Funds raised</div>
              <div><b id="kpiFunds">$128,400</b></div>
            </div>
            <div>
              <div class="meta">Holders</div>
              <div><b id="kpiHolders">1,246</b></div>
            </div>
            <div>
              <div class="meta">Direct impact</div>
              <div><b id="kpiImpact">412 beneficiaries</b></div>
            </div>
          </div>
          <p class="meta" style="margin-top:8px">* Demo data; ready to connect to oracles/indexers in production.</p>
        </div>
      </div>
    </section>

    <section id="vision" aria-label="Overview">
      <div class="container grid cols-2">
        <div>
          <h2>General overview</h2>
          <p>We return value to the community by tokenizing goods, rights and productive cash‚Äëflows, prioritizing projects that dignify lives and regenerate ecosystems. Principles: on‚Äëchain transparency, open governance and inclusive access.</p>
          <ul>
            <li>Total transparency and traceability.</li>
            <li>DAO for citizen participation and oversight.</li>
            <li>Global access with minimal entry barriers.</li>
            <li>Alliances for the common good and sustainability.</li>
          </ul>
        </div>
        <div>
          <h2>Humanist approach</h2>
          <p>Projects with real social impact: free 3D‚Äëprinted prostheses, self‚Äësustaining housing, community hydroponics, energy recycling (plastic‚Üífuel), decentralized photovoltaic energy, animal rescue, and community‚Äëimpact real‚Äëestate tokenization.</p>
        </div>
      </div>
    </section>

    <section id="proyectos" aria-label="Tokenized Projects">
      <div class="container">
        <h2>Tokenized projects</h2>
        <p class="meta">Explore socio‚Äëenvironmental RWA initiatives tokenized on Polygon.</p>
        <div class="grid cols-2" style="align-items:end;margin-bottom:12px">
          <div>
            <label class="meta">Search</label>
            <input id="search" placeholder="Name, country or type" />
          </div>
          <div>
            <label class="meta">Filter by status</label>
            <select id="statusFilter">
              <option value="all">All</option>
              <option value="in progress">In progress</option>
              <option value="completed">Completed</option>
              <option value="upcoming">Upcoming</option>
            </select>
          </div>
        </div>
        <div class="card">
          <table>
            <thead>
              <tr>
                <th>Project</th>
                <th>Country</th>
                <th>Type</th>
                <th>Goal</th>
                <th>Raised</th>
                <th>Status</th>
                <th>Action</th>
              </tr>
            </thead>
            <tbody id="projectBody"></tbody>
          </table>
        </div>
      </div>
    </section>

    <section id="tokenomics" aria-label="Tokenomics">
      <div class="container grid cols-2">
        <div class="chart-card">
          <h3 style="margin-top:0">Token distribution (demo)</h3>
          <canvas id="pieToken"></canvas>
          <p class="meta">* Adjust the <code>tokenomics</code> array in the script to change percentages.</p>
        </div>
        <div class="chart-card">
          <h3 style="margin-top:0">Impact flows vs returns</h3>
          <canvas id="barImpact"></canvas>
          <p class="meta">* Comparative visualization (demo).</p>
        </div>
      </div>
    </section>

    <section id="tecnologia" aria-label="Technology">
      <div class="container grid cols-2">
        <div>
          <h2>Technology and architecture</h2>
          <p>Built on <strong>Polygon PoS</strong>, with smart contracts, value NFTs, oracles and decentralized storage (IPFS/Arweave). Prepared for integrations with TheGraph/Subsquid for indexing and SSI for selective identity.</p>
          <ul>
            <li>On‚Äëchain transparency and traceability.</li>
            <li>Oracles for off‚Äëchain evidence and metrics.</li>
            <li>Integration with EVM wallets and DID/VC standards.</li>
          </ul>
        </div>
        <div class="card">
          <h3 style="margin-top:0">On‚Äëchain details</h3>
          <div class="grid cols-2">
            <div><div class="meta">Token</div><b>$NESGES</b></div>
            <div><div class="meta">Network</div><b>Polygon PoS</b></div>
            <div><div class="meta">Contract</div><code id="contractTech">0x17f6e4beb6cee9ff533ce102bc31f846f8e945c4</code></div>
            <div><div class="meta">Pool</div><a href="https://www.geckoterminal.com/polygon_pos/pools/0xe0e0050a18514a29d407acfdc69f742658e97b2d" target="_blank" rel="noopener">GeckoTerminal</a></div>
          </div>
          <p class="meta" style="margin-top:10px">* In production: link to TheGraph, dedicated RPCs and oracles for RWA metrics.</p>
        </div>
      </div>
    </section>

    <section id="dao" aria-label="DAO">
      <div class="container grid cols-2">
        <div>
          <h2>Decentralized governance (DAO)</h2>
          <p>The NESGES DAO will enable the community to propose, debate and vote on projects. Functional demo module ready to integrate with a governance contract (Governor).</p>
          <div class="card">
            <label class="meta">New proposal</label>
            <input id="proposalTitle" placeholder="e.g., Fund a 3D prosthetics lab" />
            <textarea id="proposalDesc" rows="4" placeholder="Describe objective, KPIs, budget and timelines" style="margin-top:8px"></textarea>
            <div style="display:flex;gap:10px;margin-top:10px">
              <button class="btn" id="btnSubmitProp">Submit proposal</button>
              <button class="btn" id="btnClearProp">Clear</button>
            </div>
          </div>
        </div>
        <div class="card">
          <h3 style="margin-top:0">Active proposals</h3>
          <div id="proposalList" class="grid" style="gap:10px"></div>
          <p class="meta" style="margin-top:8px">* Votes are saved in <code>localStorage</code> linked to the wallet address (demo). For production, integrate a governance contract.</p>
        </div>
      </div>
    </section>

    <section id="legal" aria-label="Legal framework">
      <div class="container">
        <h2>Legal Framework</h2>
        <p class="meta">Extended summary (does not constitute legal advice). Executable documents and smart contracts prevail over this text.</p>
        <div class="accordion" role="tablist" style="margin-top:14px">
          <div class="acc-item"><button class="acc-btn">1) Terms of Use</button><div class="acc-panel"><p>The site and its Web3 features are offered ‚Äúas is‚Äù. Use implies acceptance of these terms. Illicit activities, control circumvention and use by minors are prohibited. Access may be suspended due to maintenance or force majeure.</p></div></div>
          <div class="acc-item"><button class="acc-btn">2) Jurisdiction and Governing Law</button><div class="acc-panel"><p>Unless specifically provided for each project, the applicable law will be determined by the issuing entity or the corresponding SPV. In case of dispute, the parties will seek good‚Äëfaith negotiation; failing that, they may opt for institutional arbitration or competent courts, as established in the project document.</p></div></div>
          <div class="acc-item"><button class="acc-btn">3) Regulatory Compliance (MiCA / Howey‚Äëfriendly)</button><div class="acc-panel"><p>A token classification and disclosure approach aligned with MiCA is adopted when applicable, and Howey factors (in the U.S.) are mitigated by avoiding guaranteed return promises, establishing clear utilities and, where appropriate, limiting offerings under regulations such as Reg D/Reg S.</p></div></div>
          <div class="acc-item"><button class="acc-btn">4) KYC/AML and Sanctions</button><div class="acc-panel"><p>Participants may be verified by certified external KYC providers. AML monitoring, sanctions lists and geofencing are included where applicable. Non‚Äëcompliance entails exclusion and reporting to competent authorities.</p></div></div>
          <div class="acc-item"><button class="acc-btn">5) Custody, Oracles and Evidence</button><div class="acc-panel"><p>RWA may be held via SPV or licensed custodians. Proof‚Äëof‚Äëreserves and impact evidence are anchored on IPFS/Arweave and consumed through oracles, with independent audit records.</p></div></div>
          <div class="acc-item"><button class="acc-btn">6) Risks</button><div class="acc-panel"><p>Risks include: market volatility, liquidity risk, technological or oracle failures, regulatory changes, counterparty or custody risk. There are no guaranteed returns; users must conduct due diligence.</p></div></div>
          <div class="acc-item"><button class="acc-btn">7) Privacy and Data</button><div class="acc-panel"><p>Data collection is minimized. KYC is performed by a third party under its own privacy policy. The dApp may use <code>localStorage</code> for preferences. Rights of access, rectification and erasure are managed with the KYC provider and, where applicable, with the responsible entity.</p></div></div>
          <div class="acc-item"><button class="acc-btn">8) Taxes</button><div class="acc-panel"><p>Users are responsible for their tax obligations under their jurisdiction. The platform may provide supporting reports without replacing professional advice.</p></div></div>
          <div class="acc-item"><button class="acc-btn">9) Intellectual Property</button><div class="acc-panel"><p>Trademarks and content belong to their holders. No implicit license is granted. Use of the material requires express permission except for legal exceptions.</p></div></div>
          <div class="acc-item"><button class="acc-btn">10) Limitation of Liability and Force Majeure</button><div class="acc-panel"><p>No liability for indirect damages or events beyond reasonable control (network failures, attacks, natural disasters). Any total liability, if any, will be limited as permitted by applicable law.</p></div></div>
          <div class="acc-item"><button class="acc-btn">11) Dispute Resolution</button><div class="acc-panel"><p>Escalation: (i) negotiation, (ii) optional mediation, (iii) arbitration or competent courts as per the project document. Language and venue will be defined by the documentation of each issuance.</p></div></div>
        </div>
      </div>
    </section>

    <section id="roadmap" aria-label="Roadmap">
      <div class="container">
        <h2>Roadmap</h2>
        <div class="grid cols-3">
          <div class="card"><b>Token $NESGES</b><p class="meta">Completed</p></div>
          <div class="card"><b>Visual identity</b><p class="meta">Completed</p></div>
          <div class="card"><b>Pilot: Motel El Refugio (NFT)</b><p class="meta">In progress</p></div>
          <div class="card"><b>Whitepaper</b><p class="meta">Drafting</p></div>
          <div class="card"><b>RWA legal/accounting framework</b><p class="meta">In development</p></div>
          <div class="card"><b>DEXs & wallets integration</b><p class="meta">Testing</p></div>
          <div class="card"><b>Web platform + DAO</b><p class="meta">Upcoming</p></div>
          <div class="card"><b>LATAM & Africa expansion</b><p class="meta">Planned</p></div>
        </div>
      </div>
    </section>

    <section id="faq" aria-label="Frequently Asked Questions">
      <div class="container">
        <h2>Frequently Asked Questions (FAQ)</h2>
        <div class="accordion">
          <div class="acc-item"><button class="acc-btn">What is an RWA?</button><div class="acc-panel"><p>A real‚Äëworld asset tokenized on blockchain through tokens or NFTs that represent economic or usage rights.</p></div></div>
          <div class="acc-item"><button class="acc-btn">Do I need technical knowledge?</button><div class="acc-panel"><p>No. The interface is user‚Äëfriendly and the platform guides you step by step.</p></div></div>
          <div class="acc-item"><button class="acc-btn">How do I participate?</button><div class="acc-panel"><p>Connect your EVM wallet, acquire $NESGES or project NFTs, and participate in the DAO to propose and vote.</p></div></div>
          <div class="acc-item"><button class="acc-btn">What risks exist?</button><div class="acc-panel"><p>Market, liquidity, technological and regulatory risks. Perform due diligence and consult advisors if needed.</p></div></div>
          <div class="acc-item"><button class="acc-btn">Can I sell my tokens?</button><div class="acc-panel"><p>It depends on secondary market liquidity and on project restrictions. Review the specific documentation.</p></div></div>
          <div class="acc-item"><button class="acc-btn">What returns can I expect?</button><div class="acc-panel"><p>No guaranteed returns. Each project defines its structure of potential returns and value sharing, if any.</p></div></div>
          <div class="acc-item"><button class="acc-btn">Which wallets are compatible?</button><div class="acc-panel"><p>EVM wallets such as MetaMask, Rabby, Brave Wallet, among others on the Polygon network.</p></div></div>
          <div class="acc-item"><button class="acc-btn">How are impacts verified?</button><div class="acc-panel"><p>Through evidence anchored on IPFS/Arweave and consumed via oracles, with external audits where applicable.</p></div></div>
        </div>
      </div>
    </section>

    <section id="contacto" aria-label="Contact">
      <div class="container grid cols-2">
        <div>
          <h2>Contact</h2>
          <p>Do you have an RWA project or want to collaborate? Send us a message.</p>
          <form id="contactFormEN" novalidate>
            <div class="row">
              <div>
                <label>Name</label>
                <input name="name" placeholder="Your name" required>
              </div>
              <div>
                <label>Email</label>
                <input type="email" name="email" placeholder="youremail@domain.com" required>
              </div>
            </div>
            <div class="row">
              <div>
                <label>Subject</label>
                <input name="subject" placeholder="Reason for your message" required>
              </div>
              <div>
                <label>Type</label>
                <select name="type">
                  <option>Project proposal</option>
                  <option>Partnership</option>
                  <option>Support</option>
                  <option>Other</option>
                </select>
              </div>
            </div>
            <label>Message</label>
            <textarea name="message" rows="5" placeholder="Tell us more..." required></textarea>
            <label style="display:flex;align-items:center;gap:8px;margin-top:8px"><input type="checkbox" name="consent" required> <span class="meta">I accept the privacy policy</span></label>
            <div class="actions">
              <button class="btn primary" type="submit">Send</button>
              <button class="btn" type="reset">Clear</button>
            </div>
            <div class="meta" id="contactMsgEN" style="margin-top:8px"></div>
          </form>
        </div>
        <div class="card">
          <h3 style="margin-top:0">Information</h3>
          <p class="meta">Network: Polygon PoS</p>
          <p class="meta">Token: $NESGES</p>
          <p class="meta">Contract: 0x17f6e4beb6cee9ff533ce102bc31f846f8e945c4</p>
          <p class="meta">Pool: 0xe0e0050a18514a29d407acfdc69f742658e97b2d</p>
          <p class="meta">Email: info.nesgesfinance@gmail.com</p>
        </div>
      </div>
    </section>
  </main>

  <footer>
    <div class="container grid cols-2">
      <div>
        <div class="brand" style="margin-bottom:10px">
          <div class="brand-badge"><span>NG</span></div>
          <div>
            NESGESFinance
            <div class="meta">‚ÄúLove your neighbor as yourself‚Äù</div>
          </div>
        </div>
        <p class="meta">Blockchain Technology, Financial Inclusion and Human Sustainability as the axis of a new solidarity‚Äëdriven economic paradigm.</p>
        <div class="badges">
          <span class="badge">Polygon</span>
          <span class="badge">DeFi</span>
          <span class="badge">RWA</span>
          <span class="badge">DAO</span>
        </div>
      </div>
      <div>
        <h3>Links</h3>
        <ul>
          <li><a href="https://nesaraandgesarafinance.org" target="_blank" rel="noopener">Official site</a></li>
          <li><a href="https://x.com/nesngesfinance" target="_blank" rel="noopener">X (Twitter)</a></li>
          <li><a href="https://www.geckoterminal.com/polygon_pos/pools/0xe0e0050a18514a29d407acfdc69f742658e97b2d" target="_blank" rel="noopener">Liquidity pool</a></li>
          <li><span class="meta">Contract: 0x17f6e4beb6cee9ff533ce102bc31f846f8e945c4</span></li>
        </ul>
        <p class="meta">¬© <span id="year"></span> NESGESFinance. All rights reserved.</p>
      </div>
    </div>
  </footer>

  <script>
    // Helpers
    const $ = (q)=>document.querySelector(q);
    const $$ = (q)=>Array.from(document.querySelectorAll(q));

    // Wallet connect (EVM demo)
    const btnConnect = $('#btnConnect');
    const walletPreview = $('#walletPreview');
    async function connectWallet(){
      if(!window.ethereum){ alert('No wallet detected (MetaMask).'); return; }
      try{
        const accounts = await window.ethereum.request({ method:'eth_requestAccounts' });
        const addr = accounts[0];
        const short = addr.slice(0,6)+'‚Ä¶'+addr.slice(-4);
        if(walletPreview) walletPreview.textContent = short;
        localStorage.setItem('nesges.wallet', addr);
      }catch(e){ console.error(e); alert('Wallet connection failed.'); }
    }
    btnConnect.addEventListener('click', connectWallet);

    // KPI simulation
    function randomizeKPIs(){
      const funds = 128400 + Math.floor(Math.random()*5000)-2500;
      const holders = 1246 + Math.floor(Math.random()*10)-5;
      const impact = 412 + Math.floor(Math.random()*6)-3;
      const f=$('#kpiFunds'); if(f) f.textContent = '$'+funds.toLocaleString('en-US');
      const h=$('#kpiHolders'); if(h) h.textContent = holders.toLocaleString('en-US');
      const i=$('#kpiImpact'); if(i) i.textContent = impact+' beneficiaries';
    }
    setInterval(randomizeKPIs,4000);

    // Projects dataset (EN)
    const projects = [
      { name:'Motel El Refugio', country:'Ecuador', type:'Real Estate RWA', goal:250000, raised:128400, status:'in progress', link:'#' },
      { name:'CobytoHouse (Animal Rescue)', country:'Ecuador', type:'Social Impact', goal:80000, raised:23500, status:'upcoming', link:'#' },
      { name:'3D Prosthetics Lab', country:'Ecuador', type:'Health', goal:60000, raised:41000, status:'in progress', link:'#' },
      { name:'Community Hydroponics', country:'Ecuador', type:'Food production', goal:40000, raised:40000, status:'completed', link:'#' }
    ];

    function renderProjects(){
      const q = ($('#search') && $('#search').value.toLowerCase())||'';
      const f = ($('#statusFilter') && $('#statusFilter').value)||'all';
      const tbody = document.getElementById('projectBody'); if(!tbody) return; tbody.innerHTML='';
      projects.filter(p=>{
        const matches = (p.name+p.country+p.type).toLowerCase().includes(q);
        const stateOk = (f==='all') || (p.status===f);
        return matches && stateOk;
      }).forEach(p=>{
        const tr=document.createElement('tr'); tr.innerHTML = `
          <td><b>${p.name}</b></td>
          <td>${p.country}</td>
          <td><span class="pill">${p.type}</span></td>
          <td>$${p.goal.toLocaleString('en-US')}</td>
          <td>$${p.raised.toLocaleString('en-US')}</td>
          <td>${p.status}</td>
          <td><a class="btn" href="${p.link}">View</a></td>`;
        tbody.appendChild(tr);
      });
      const kpiEl=document.getElementById('kpiProjects'); if(kpiEl) kpiEl.textContent = projects.filter(p=>p.status!=='upcoming').length;
    }

    // Charts
    function drawPie(canvasId,data){ const c=document.getElementById(canvasId); if(!c) return; const rect=c.getBoundingClientRect(); const ctx=c.getContext('2d'); c.width=rect.width*2; c.height=rect.height*2; ctx.scale(2,2); const width=rect.width, height=rect.height; const cx=width/2, cy=height/2, r=Math.min(width,height)/2-10; let start=0; const total=data.reduce((a,b)=>a+b.value,0); ctx.clearRect(0,0,width,height); data.forEach((d,i)=>{ const ang=(d.value/total)*Math.PI*2; const end=start+ang; ctx.beginPath(); ctx.moveTo(cx,cy); ctx.arc(cx,cy,r,start,end); ctx.closePath(); ctx.fillStyle=`hsl(${(i*72)%360} 70% 55%)`; ctx.fill(); const mid=start+ang/2; const lx=cx+Math.cos(mid)*(r+14); const ly=cy+Math.sin(mid)*(r+14); ctx.fillStyle='#cfe2f7'; ctx.font='12px Inter'; ctx.textAlign='center'; ctx.fillText(`${d.label} (${Math.round(d.value/total*100)}%)`, lx, ly); start=end; }); }
    function drawBars(canvasId,labels,a,b){ const c=document.getElementById(canvasId); if(!c) return; const rect=c.getBoundingClientRect(); const ctx=c.getContext('2d'); c.width=rect.width*2; c.height=rect.height*2; ctx.scale(2,2); const width=rect.width, height=rect.height; const padding=30, w=width-padding*2, h=height-padding*2; const barW=w/(labels.length*3); const max=Math.max(...a,...b)*1.2; ctx.save(); ctx.translate(padding,padding); ctx.clearRect(-padding,-padding,width,height); ctx.fillStyle='#cfe2f7'; ctx.font='12px Inter'; labels.forEach((lb,i)=>{ ctx.fillText(lb, i*(barW*3)+barW, h+16); }); function drawSeries(values,offset,color){ values.forEach((v,i)=>{ const bh=h*(v/max); const x=i*(barW*3)+offset; const y=h-bh; ctx.fillStyle=color; ctx.fillRect(x,y,barW,bh); }); } drawSeries(a,0,'#4ade80'); drawSeries(b,barW+6,'#8b5cf6'); ctx.restore(); }

    const tokenomics = [ {label:'Treasury / Impact', value:30}, {label:'Holders / Community', value:35}, {label:'Liquidity / DEX', value:15}, {label:'Team (vesting)', value:10}, {label:'Ecosystem / Partnerships', value:10} ];

    function renderCharts(){
      drawPie('pieToken', tokenomics);
      drawBars('barImpact', ['Q1','Q2','Q3','Q4'], [40,55,62,70], [25,35,38,45]);
    }

    // DAO (localStorage demo)
    const DAO_STORE = 'nesges.dao.proposals';
    function loadDAO(){ try{ return JSON.parse(localStorage.getItem(DAO_STORE)||'[]'); }catch{ return []; } }
    function saveDAO(list){ localStorage.setItem(DAO_STORE, JSON.stringify(list)); }
    function addProposal(title,desc,author){ const list=loadDAO(); list.unshift({title,desc,author,date:Date.now(),votesYes:0,votesNo:0}); saveDAO(list); renderProposals(); }
    function voteProposal(idx,choice,addr){ const list=loadDAO(); if(!list[idx]) return; const votedKey = `nesges.dao.voted.${idx}.${addr.toLowerCase()}`; if(localStorage.getItem(votedKey)){ alert('You have already voted on this proposal.'); return; } if(choice==='yes') list[idx].votesYes++; else list[idx].votesNo++; saveDAO(list); localStorage.setItem(votedKey,'1'); renderProposals(); }
    function renderProposals(){ const box=document.getElementById('proposalList'); if(!box) return; const list=loadDAO(); box.innerHTML=''; if(!list.length){ box.innerHTML = `<p class="meta">No proposals yet.</p>`; return; } list.forEach((p,idx)=>{ const div=document.createElement('div'); div.className='card'; const yesPct = p.votesYes+p.votesNo>0? Math.round(p.votesYes*100/(p.votesYes+p.votesNo)) : 0; div.innerHTML = `<b>${p.title}</b><p>${p.desc}</p><div class=\"meta\">Proposed by: ${p.author.slice(0,6)}‚Ä¶${p.author.slice(-4)} ‚Ä¢ ${new Date(p.date).toLocaleString()}</div><div style=\"margin:8px 0\" class=\"meta\">Yes votes: ${p.votesYes} ‚Ä¢ No votes: ${p.votesNo} ‚Ä¢ Approval: ${yesPct}%</div><div style=\"display:flex;gap:10px\"><button class=\"btn\" data-idx=\"${idx}\" data-act=\"yes\">Vote Yes</button><button class=\"btn warn\" data-idx=\"${idx}\" data-act=\"no\">Vote No</button></div>`; box.appendChild(div); }); box.querySelectorAll('button').forEach(b=>{ b.addEventListener('click', (e)=>{ const idx=+e.currentTarget.dataset.idx; const act=e.currentTarget.dataset.act; const addr = localStorage.getItem('nesges.wallet'); if(!addr){ alert('Connect your wallet to vote.'); return; } voteProposal(idx, act, addr); }); }); }

    // Submit handlers DAO
    const submitES = document.getElementById('btnSubmitProp'); if(submitES){ submitES.addEventListener('click', ()=>{ const title = document.getElementById('proposalTitle').value.trim(); const desc = document.getElementById('proposalDesc').value.trim(); const author = localStorage.getItem('nesges.wallet')||'0x0000000000000000000000000000000000000000'; if(!title||!desc){ alert('Please complete title and description.'); return; } addProposal(title,desc,author); document.getElementById('proposalTitle').value=''; document.getElementById('proposalDesc').value=''; }); document.getElementById('btnClearProp').addEventListener('click', ()=>{ document.getElementById('proposalTitle').value=''; document.getElementById('proposalDesc').value=''; }); }

    // Accordion behavior
    function bindAccordions(){ $$('.acc-btn').forEach(btn=>{ btn.addEventListener('click', ()=>{ const panel = btn.nextElementSibling; const open = panel.classList.toggle('open'); panel.style.maxHeight = open? panel.scrollHeight+'px' : 0; btn.setAttribute('aria-expanded', open); }); }); }

    // Contact form
    function bindContact(formId, msgId){ const form=document.getElementById(formId), msg=document.getElementById(msgId); if(!form) return; form.addEventListener('submit', (e)=>{ e.preventDefault(); const fd=new FormData(form); const required=['name','email','subject','message','consent']; for(const k of required){ if(!fd.get(k)){ msg.textContent = 'Please complete all fields and accept the privacy policy.'; msg.style.color = 'var(--warn)'; return; } } const payload = Object.fromEntries(fd.entries()); const list = JSON.parse(localStorage.getItem('nesges.contact')||'[]'); list.push({...payload, date:Date.now()}); localStorage.setItem('nesges.contact', JSON.stringify(list)); msg.textContent = 'Thank you! We have received your message.'; msg.style.color = 'var(--brand)'; form.reset(); }); }

    // Init
    window.addEventListener('load', ()=>{
      document.getElementById('year').textContent = new Date().getFullYear();
      const savedWallet = localStorage.getItem('nesges.wallet'); if(savedWallet){ const short = savedWallet.slice(0,6)+'‚Ä¶'+savedWallet.slice(-4); if(walletPreview) walletPreview.textContent = short; }
      renderProjects();
      renderProposals();
      bindAccordions();
      bindContact('contactFormEN','contactMsgEN');
      renderCharts();
    });

    window.addEventListener('resize', renderCharts);
  </script>
</body>
</html>
